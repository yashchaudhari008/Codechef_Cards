(this["webpackJsonpcodechef-cards"]=this["webpackJsonpcodechef-cards"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(9),r=c.n(a),i=(c(16),c(3)),l=c(11),j=c(5),o=c(4),d=c(1);function b(){return Object(d.jsxs)("header",{children:[Object(d.jsx)("div",{children:"Codechef Cards"}),Object(d.jsx)(o.e,{className:"githubIcon",onClick:function(){window.location.href="https://github.com/yashchaudhari008/Codechef_Cards"},style:{cursor:"pointer"}})]})}function u(){return Object(d.jsx)("footer",{children:Object(d.jsx)("p",{children:"\xa9 Copyright 2021-22. Made with \u2764 by Yash Chaudhari."})})}c(18);function h(e){var t=e.users,c=e.setUsers,s=e.fetchData,a=e.setShowModal,r=Object(n.useState)(!0),l=Object(j.a)(r,2),b=l[0],u=l[1],h=Object(n.useRef)(null);return Object(d.jsxs)("div",{className:"menuBox",children:[Object(d.jsx)("button",{className:"menuBtn",onClick:function(){return u(!b)},children:b?Object(d.jsx)(o.d,{}):Object(d.jsx)(o.c,{})}),b&&Object(d.jsxs)("form",{className:"menuForm",onSubmit:function(e){e.preventDefault();var n=h.current.value.toLowerCase();if(""===n)a((function(e){return Object(i.a)(Object(i.a)({},e),{},{visible:!0,type:"alert",msg:"No Username Entered!"})}));else{var r=new Set(t);r.has(n)?a((function(e){return Object(i.a)(Object(i.a)({},e),{},{visible:!0,type:"warning",msg:"User already exists!"})})):(r.add(n),c(Array.from(r)),localStorage.setItem("usernames",JSON.stringify(Array.from(r))),s(n)),h.current.value=""}},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"username",children:" Username: "}),Object(d.jsx)("input",{type:"text",id:"username",name:"username",defaultValue:localStorage.getItem("usernames")?"":"mad_008",ref:h})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{className:"menuBtn",type:"submit",children:[Object(d.jsx)(o.g,{}),Object(d.jsx)("p",{children:"Add User"})]})})]})]})}c(19);function O(e){var t=e.user_data,c=e.setShowModal,s=e.removeUser,a=t.name,r=t.username,l=t.stars,b=t.rating,u=t.highestRating,h=t.globalRank,O=t.countryRank,m=t.problemPartiallySolved,f=t.problemFullySolved,x=t.isActiveUser,v="stars".concat(l),p=Object(n.useState)(!1),N=Object(j.a)(p,2),g=N[0],w=N[1],S=Object(n.useState)(window.innerWidth),y=Object(j.a)(S,2),C=y[0],k=y[1],B=Object(n.useState)(!1),I=Object(j.a)(B,2),M=I[0],U=I[1];function E(){k(window.innerWidth)}return Object(n.useEffect)((function(){return window.addEventListener("resize",E),function(){window.removeEventListener("resize",E)}}),[]),Object(n.useEffect)((function(){U(C<669)}),[C]),Object(d.jsxs)("div",{className:"cardBox ".concat(v," ").concat(!x&&"inactive"),children:[Object(d.jsxs)("div",{className:"cardDetails",children:[Object(d.jsx)("h1",{children:a}),Object(d.jsxs)("a",{className:"cardUsername",href:"https://codechef.com/users/"+r,target:"_blank",rel:"noreferrer noopener",children:["(",r,")"]}),Object(d.jsx)("div",{className:"cardRating",children:Object(d.jsxs)("p",{children:[l,"\u2605 | ",b]})}),Object(d.jsx)("div",{className:"cardHighestRating",children:x?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h4",{children:"Highest Rating:"}),Object(d.jsx)("p",{children:u})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h4",{children:"Inactive User"})})}),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{className:"cardBtn",onClick:function(){c((function(e){return Object(i.a)(Object(i.a)({},e),{},{visible:!0,type:"confirm",msg:"Are you sure to delete '".concat(r,"'?"),acceptFunc:function(){return s(r)}})}))},children:[Object(d.jsx)(o.h,{}),Object(d.jsx)("p",{children:"Delete"})]})}),M&&Object(d.jsx)("button",{className:"cardBtn",onClick:function(){return w((function(e){return!e}))},children:Object(d.jsxs)("p",{children:[g?"Close":"View"," details"]})})]}),(g||!M)&&Object(d.jsxs)("div",{className:"moreDetails",children:[Object(d.jsxs)("div",{className:"detailsItemWrapper",children:[Object(d.jsx)("h1",{className:"wrapperHeading",children:"Ranking"}),Object(d.jsxs)("div",{className:"detailsItem",children:[Object(d.jsx)("p",{children:"Global Rank:"}),Object(d.jsx)("p",{children:h||"Not Available"})]}),Object(d.jsxs)("div",{className:"detailsItem",children:[Object(d.jsx)("p",{children:"Country Rank:"}),Object(d.jsx)("p",{children:O||"Not Available"})]})]}),Object(d.jsxs)("div",{className:"detailsItemWrapper",children:[Object(d.jsx)("h1",{className:"wrapperHeading",children:"Problem Solved"}),Object(d.jsxs)("div",{className:"detailsItem",children:[Object(d.jsx)("p",{children:"Fully:"}),Object(d.jsx)("p",{children:f})]}),Object(d.jsxs)("div",{className:"detailsItem",children:[Object(d.jsx)("p",{children:"Partially:"}),Object(d.jsx)("p",{children:m})]})]})]})]})}c(20);function m(e){var t=e.modalData,c=e.setShowModal,n=t.type,s=t.msg,a=t.acceptFunc,r=function(){c((function(e){return Object(i.a)(Object(i.a)({},e),{},{visible:!1})}))};if("alert"===n)return Object(d.jsxs)("div",{className:"Modal ".concat(n,"Modal"),children:[Object(d.jsx)("h1",{children:"Alert!"}),Object(d.jsx)("p",{children:s}),Object(d.jsx)("div",{className:"modalBtnHolder",children:Object(d.jsxs)("button",{className:"modalBtn",onClick:r,children:[Object(d.jsx)(o.f,{}),"Close"]})})]});if("warning"===n)return Object(d.jsxs)("div",{className:"Modal ".concat(n,"Modal"),children:[Object(d.jsx)("h1",{children:"Warning"}),Object(d.jsx)("p",{children:s}),Object(d.jsx)("div",{className:"modalBtnHolder",children:Object(d.jsxs)("button",{className:"modalBtn",onClick:r,children:[Object(d.jsx)(o.f,{}),"Close"]})})]});if("confirm"===n)return Object(d.jsxs)("div",{className:"Modal ".concat(n,"Modal"),children:[Object(d.jsx)("h1",{children:"Confirm"}),Object(d.jsx)("p",{children:s}),Object(d.jsxs)("div",{className:"modalBtnHolder",children:[Object(d.jsxs)("button",{className:"modalBtn",onClick:function(){a(),r()},children:[Object(d.jsx)(o.b,{}),"Yes"]}),Object(d.jsxs)("button",{className:"modalBtn",onClick:r,children:[Object(d.jsx)(o.a,{}),"No"]})]})]});throw new Error("No modal defined for '".concat(n,"'"))}c(21);var f=c(10);function x(){return Object(d.jsx)("div",{className:"Spinner",children:Object(d.jsx)(f.a,{})})}function v(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),r=Object(j.a)(a,2),o=r[0],f=r[1],v=Object(n.useState)(!0),p=Object(j.a)(v,2),N=p[0],g=p[1],w=Object(n.useState)({visible:!1,type:"",msg:"",acceptFunc:null}),S=Object(j.a)(w,2),y=S[0],C=S[1],k=Object(n.useCallback)((function(e){f((function(t){return t.filter((function(t){return t.username!==e}))})),s((function(t){var c=t.filter((function(t){return t!==e}));return localStorage.setItem("usernames",JSON.stringify(c)),c}))}),[]),B=Object(n.useCallback)((function(e){fetch("https://codechef-cards-api.herokuapp.com/"+e).then((function(e){return e.json()})).then((function(t){"success"===t.status?f((function(e){return[].concat(Object(l.a)(e),[Object(i.a)({},t.data)])})):(C((function(e){return Object(i.a)(Object(i.a)({},e),{},{visible:!0,type:"alert",msg:"You entered Invalid Username."})})),k(e))})).catch((function(e){return console.log("Error:",e)}))}),[k]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("usernames"));e?(s(e),e.forEach((function(e){B(e)}))):s([])}),[B]),Object(n.useEffect)((function(){c.length===o.length?g(!1):g(!0)}),[c,o]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{className:"Content",children:[Object(d.jsx)(h,{setUsers:s,users:c,fetchData:B,setShowModal:C}),Object(d.jsx)("div",{className:"CardList",children:o.sort((function(e,t){return t.rating-e.rating})).map((function(e){return Object(d.jsx)(O,{user_data:e,setShowModal:C,removeUser:k},e.username)}))}),(N||y.visible)&&Object(d.jsxs)("div",{className:"backDrop",children:[N&&Object(d.jsx)(x,{}),y.visible&&Object(d.jsx)(m,{modalData:y,setShowModal:C})]})]}),Object(d.jsx)(u,{})]})}r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.cab9443d.chunk.js.map